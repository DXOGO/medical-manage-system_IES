<!DOCTYPE html>
<html lang="en" xmlns="http://thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Internados</title>

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="../../static/css/style_crud.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="../../plugins/fontawesome-free/css/all.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="../../css/adminlte.min.css">
  <link rel="stylesheet" href="../../css/internado_style.css">

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
  <!-- jQuery -->
  <script src="../../plugins/jquery/jquery.min.js"></script>
  <!-- Bootstrap 4 -->
  <script src="../../plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- AdminLTE App -->
  <script src="../../js/adminlte.min.js"></script>
  <!-- AdminLTE for demo purposes -->
  <script src="../../js/demo.js"></script>
  
  <script>
    $(document).ready(function () {
      // Activate tooltip
      $('[data-toggle="tooltip"]').tooltip();

      // Select/Deselect checkboxes
      var checkbox = $('table tbody input[type="checkbox"]');
      $("#selectAll").click(function () {
        if (this.checked) {
          checkbox.each(function () {
            this.checked = true;
          });
        } else {
          checkbox.each(function () {
            this.checked = false;
          });
        }
      });
      checkbox.click(function () {
        if (!this.checked) {
          $("#selectAll").prop("checked", false);
        }
      });
    });
  </script>
</head>


<body class="hold-transition sidebar-mini" style="background-color: #F4F6F9;">
  <div class="wrapper">
    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
      <!-- Left navbar links -->
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
        </li>
      </ul>

      <!-- Right navbar links -->
      <ul class="navbar-nav ml-auto">
        <!-- Notifications Dropdown Menu -->
        <li class="nav-item dropdown">
          <a class="nav-link" data-toggle="dropdown" href="#">
            <i class="far fa-bell"></i>
            <span class="badge badge-warning navbar-badge">15</span>
          </a>
          <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
            <span class="dropdown-item dropdown-header">15 Notificações</span>
            <div class="dropdown-divider"></div>
            <a href="#" class="dropdown-item">
              <i class="fas fa-envelope mr-2"></i> 6 novas mensagens
            </a>
            <div class="dropdown-divider"></div>
            <a href="#" class="dropdown-item">
              <i class="fas fa-file mr-2"></i> 9 novos relatórios clínicos
            </a>
          </div>
        </li>
      </ul>
    </nav>
    <!-- /.navbar -->

    <!-- Main Sidebar Container -->
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
      <!-- Brand Logo -->
      <a href="index" class="brand-link">
        <img src="img/mms1.jpeg" alt="AdminLTE Logo" class="brand-image img-circle elevation-3" style="opacity: .8">
        <span class="brand-text font-weight-light">MMS</span>
      </a>

      <!-- Sidebar -->
      <div class="sidebar">
        <!-- Sidebar user panel (optional) -->
        <div class="user-panel mt-3 pb-3 mb-3 d-flex">
          <div class="image">
            <img src="img/user.png" class="img-circle elevation-2" alt="User Image">
          </div>
          <div class="info">
            <a href="perfil" class="d-block" th:text="${name}"></a>
          </div>
        </div>

        <!-- SidebarSearch Form -->
        <div class="form-inline">
          <div class="input-group" data-widget="sidebar-search">
            <input class="form-control form-control-sidebar" type="search" placeholder="Pesquisar" aria-label="Search">
            <div class="input-group-append">
              <button class="btn btn-sidebar">
                <i class="fas fa-search fa-fw"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- Sidebar Menu -->
        <nav class="mt-2">
          <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
            <!-- Add icons to the links using the .nav-icon class
         with font-awesome or any other icon font library -->
            <li class="nav-item">
              <a href="perfil" class="nav-link">
                <i class="nav-icon fas fa-user-md"></i>
                <p>
                  Perfil
                </p>
              </a>
            </li>
            <li class="nav-item">
              <a href="pacientes" class="nav-link">
                <i class="nav-icon fas fa-hospital-user"></i>
                <p>
                  Pacientes
                </p>
              </a>
            </li>
            <li class="nav-item">
              <a href="internados" class="nav-link">
                <i class="nav-icon fas fa-procedures"></i>
                <p>
                  Internados
                </p>
              </a>
            </li>
            <li class="nav-item">
              <a href="consultas" class="nav-link">
                <i class="nav-icon fas fa-stethoscope"></i>
                <p>
                  Consultas e Horário
                </p>
              </a>
            </li>
            <li class="nav-item" style="margin-bottom: 290px;">
              <a href="chat" class="nav-link">
                <i class="nav-icon fas fa-comment-medical"></i>
                <p>
                  Chat clínico
                </p>
              </a>
            </li>
            <li class="nav-item">
              <a href="login" class="nav-link">
                <i class="fas fa-sign-out-alt"></i>
                <p>
                  Terminar sessão
                </p>
              </a>
            </li>
          </ul>
        </nav>
        <!-- /.sidebar-menu -->
      </div>
      <!-- /.sidebar -->
    </aside>
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">

      <!-- Content Header (Page header) -->
      <section class="content-header">
        <div class="container-fluid">
          <div class="row mb-2">
            
            <div class="col-sm-6">
              <h3>Os seus pacientes internados</h3>
            </div>
            <div class="col-sm-6 text-right pr-5">
              <a th:href="@{internados/add}" class="btn btn-success"><i class="material-icons">&#xE147;</i> <span>Adicionar novo internamento</span></a>
            </div>

          </div>
        </div><!-- /.container-fluid -->
      </section>
        <div class="card">
          <div class="card-body">
            <table class="table table-striped table-hover">
              <thead>
                <tr>
                  <th>Nome</th>
                  <th>Quarto</th>
                  <th>Data de Admissão</th>
                  <th>Razão do Internamento</th>
                  <!-- <th>Data de Saída</th> -->
                  <th style="text-align:center">Sinais Vitais</th>
                </tr>
              </thead>
              <tbody>
                <th:block th:each="intern : ${listaInternamentos}">
                  <tr>
                    <td> [[${intern.paciente.pessoa.name}]]</td>
                    <td> [[${intern.quartocama}]]</td>
                    <td> [[${intern.dataadmissao}]]</td>
                    <td> [[${intern.razaointernamento}]]</td>
                    <!-- <td> [[${intern.datasaida}]]</td> -->

                    <td style="text-align: center;"> <a th:href="@{/internados/__${intern.paciente.pessoa.pessoacc}__}"> <i class="fas fa-eye"></i> </a> </td>

                    <td>
                      <form th:action="@{/deleteinternamento/__${intern.id}__}" method="get">
                        <button type="submit" id="delete-button"><i class="material-icons" data-toggle="tooltip" title="Delete">&#xE872;</i></button>
                        <!-- <a th:href="@{deleteinternamento/__${intern.id}__}" class="edit" data-toggle="modal"></a> -->
                      </form>
                    </td>
                  </tr>
                </th>
              </tbody>
            </table>
          </div>
        </div>
      </section>

    </div>
  </div>
<script>
function addUrlParameter(name, value) {
  var searchParams = new URLSearchParams(window.location.search)
  searchParams.set(name, value)
  window.location.search = searchParams.toString()
}
</script>
</body>


</html>